
<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml"  lang="en">

    <head>

        
        <meta charset="UTF-8" />

        
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

                
        <title> 
               
        </title>
        
        
            <link href="https://example.com/index.xml" rel="alternate" type="application/rss+xml" title="Kiss&#39;Em!" />
        

        
        <link rel="stylesheet" href="/css/style.css"/>

        
        
            <link rel='stylesheet' href='https://example.com/css/custom.css'>
        
        
    </head>

    <body>



<section class="section">
  <div class="container">
    <nav id="nav-main" class="nav">
      <div id="nav-name" class="nav-left">
        <a id="nav-anchor" class="nav-item" href="https://example.com">
          <h1 id="nav-heading" class="title is-4">Kiss&#39;Em!</h1>
        </a>
      </div>
      <div class="nav-right">
        
        
        <nav id="nav-items" class="nav-item level is-mobile">
          <a class="level-item" aria-label="about" href='/about'
           rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="8"></line>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="email" href='mailto:info@pavel-pi.de'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
    <polyline points="22,6 12,13 2,6"/>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="github" href='https://github.com/pavel-pi'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="twitter" href='https://twitter.com/@_pavel_pi_'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a>
          <a class="level-item" aria-label="rss" href='/index.xml'
           target='_blank'  rel='noopener'>
            <span class="icon">
              <i class>

<svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle>
    
  </svg></i>
            </span>
          </a></nav>
        
      
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
</section>

<section class="section">
    
    <div class="container">
    
        
            
<div class="subtitle tags is-6 is-pulled-right">
    
</div>





<h1 class="title"></h1>

<div class="content">

    
    <h1 id="linux常用命令文件查找文件下载文件压缩用户权限">linux常用命令（文件查找、文件下载、文件压缩、用户、权限）</h1>
<h2 id="文件查找命令">文件查找命令</h2>
<h3 id="which">which</h3>
<p>查看可执行文件的位置</p>
<h3 id="whereis">whereis</h3>
<p>查看文件的位置</p>
<h3 id="find">find</h3>
<p>实际搜寻硬盘查询文件名称</p>
<pre><code>find / -name Redis-x64-3.2.100.zip
</code></pre><h2 id="文件下载">文件下载</h2>
<h3 id="wget">wget</h3>
<p>安装wget工具：yum install wget</p>
<p>命令格式：wget 参数 下载地址</p>
<p>使用wget -h 可以查看命令使用帮助</p>
<p>示例：</p>
<ol>
<li><strong>使用wget下载单个文件</strong></li>
</ol>
<pre><code>wget http://www.minjieren.com/wordpress-3.1-zh_CN.zip
</code></pre><p>以下的例子是从网络下载一个文件并保存在当前目录，在下载的过程中会显示进度条，包含（下载完成百分比，已经下载的字节，当前下载速度，剩余下载时间）。默认的下载地址为当前的目录</p>
<ol start="2">
<li><strong>使用wget -O下载并以不同的文件名保存</strong></li>
</ol>
<pre><code>wget -O wordpress.zip http://www.minjieren.com/download.aspx?id=1080
</code></pre><blockquote>
<p>wget默认会以最后一个符合”/”的后面的字符来命令，对于动态链接的下载通常文件名会不正确。</p>
</blockquote>
<p>错误：下面的例子会下载一个文件并以名称download.aspx?id=1080保存</p>
<pre><code>wget http://www.minjieren.com/download?id=1
</code></pre><p>即使下载的文件是zip格式，它仍然以download.php?id=1080命令。</p>
<p>正确：为了解决这个问题，我们可以使用参数-O来指定一个文件名：</p>
<ol start="3">
<li><strong>使用wget -c断点续传</strong></li>
</ol>
<pre><code>wget -c http://www.minjieren.com/wordpress-3.1-zh_CN.zip
</code></pre><p>使用wget -c重新启动下载中断的文件，对于我们下载大文件时突然由于网络等原因中断非常有帮助，我们可以继续接着下载而不是重新下载一个文件。需要继续中断的下载时可以使用-c参数</p>
<ol start="4">
<li><strong>使用wget -b后台下载</strong></li>
</ol>
<p>对于下载非常大的文件的时候，我们可以使用参数-b进行后台下载。</p>
<pre><code>wget -b http://www.minjieren.com/wordpress-3.1-zh_CN.zip
</code></pre><p>你可以使用以下命令来察看下载进度：</p>
<pre><code>tail -f wget-log
</code></pre><ol start="5">
<li><strong>伪装代理名称下载</strong></li>
</ol>
<pre><code>wget --user-agent=&quot;Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.16 (KHTML, like Gecko) Chrome/10.0.648.204 Safari/534.16&quot; http://www.minjieren.com/wordpress-3.1-zh_CN.zip
</code></pre><p>有些网站能通过根据判断代理名称不是浏览器而拒绝你的下载请求。不过你可以通过–user-agent参数伪装。</p>
<ol start="6">
<li><strong>使用wget –tries增加重试次数</strong></li>
</ol>
<pre><code>wget --tries=40 URL
</code></pre><ol start="7">
<li><strong>使用wget -i下载多个文件</strong></li>
</ol>
<pre><code>wget -i filelist.txt
</code></pre><p>首先，保存一份下载链接文件</p>
<pre><code>cat &gt; filelist.txt

url1

url2

url3

url4

</code></pre><p>接着使用这个文件和参数-i下载</p>
<ol start="8">
<li><strong>使用wget -o把下载信息存入日志文件</strong></li>
</ol>
<pre><code>wget -o download.log URL
</code></pre><p>不希望下载信息直接显示在终端而是在一个日志文件，可以使用</p>
<ol start="9">
<li><strong>使用wget FTP下载</strong></li>
</ol>
<pre><code>wget ftp-url

wget --ftp-user=USERNAME --ftp-password=PASSWORD url
</code></pre><p>可以使用wget来完成ftp链接的下载。</p>
<p>使用wget匿名ftp下载：</p>
<pre><code>wget ftp-url
</code></pre><p>使用wget用户名和密码认证的ftp下载</p>
<pre><code>wget --ftp-user=USERNAME --ftp-password=PASSWORD url
</code></pre><h3 id="tar">tar</h3>
<p>Linux中很多压缩程序只能针对一个文件进行压缩，这样当你想要压缩一大堆文件时，你得先将这一大堆文件先打成一个包（tar命令），然后再用压缩程序进行压缩（gzip bzip2命令）。</p>
<p>linux下最常用的打包程序就是tar了，使用tar程序打出来的包我们常称为tar包，tar包文件的命令通常都是以.tar结尾的。生成tar包后，就可以用其它的程序来进行压缩。</p>
<p>1．<strong>命令格式</strong>：</p>
<p>tar 必要参数 选择参数 文件</p>
<p>2．<strong>命令功能</strong>：</p>
<p>用来压缩和解压文件。tar本身不具有压缩功能。他是调用压缩功能实现的</p>
<p>3．<strong>命令参数：</strong></p>
<p><strong>必要参数有如下：</strong></p>
<p>-A 新增压缩文件到已存在的压缩</p>
<p>-B 设置区块大小</p>
<p>-c 建立新的压缩文件</p>
<p>-d 记录文件的差别</p>
<p>-r 添加文件到已经压缩的文件</p>
<p>-u 添加改变了和现有的文件到已经存在的压缩文件</p>
<p>-x 从压缩的文件中提取文件</p>
<p>-t 显示压缩文件的内容</p>
<p>-z 支持gzip解压文件</p>
<p>-j 支持bzip2解压文件</p>
<p>-Z 支持compress解压文件</p>
<p>-v 显示操作过程</p>
<p>-l 文件系统边界设置</p>
<p>-k 保留原有文件不覆盖</p>
<p>-m 保留文件不被覆盖</p>
<p>-W 确认压缩文件的正确性</p>
<p><strong>可选参数如下：</strong></p>
<p>-b 设置区块数目</p>
<p>-C 切换到指定目录</p>
<p>-f 指定压缩文件</p>
<p>&ndash;help 显示帮助信息</p>
<p>&ndash;version 显示版本信息</p>
<ol start="4">
<li>
<p><strong>示例</strong></p>
<ol>
<li>将文件打包成tar包</li>
</ol>
<pre><code>tar -cvf hello.tar hello.txt
</code></pre><ol start="2">
<li>将文件打包并以gzip格式进行压缩，这里我们指定了.gz 那么系统会调用gzip程序对文件进行压缩</li>
</ol>
<pre><code>tar -zcvf hello.tar.gz hello.txt
</code></pre><ol start="3">
<li>将tar包进行解压缩</li>
</ol>
<pre><code>tar -zxvf hello.tar.gz
</code></pre></li>
</ol>
<h2 id="用户与用户组管理">用户与用户组管理</h2>
<p>Linux是一个多用户、多任务的操作系统</p>
<h3 id="用户管理">用户管理</h3>
<p>查看本机用户信息 /etc/passwd</p>
<h4 id="useradd">useradd</h4>
<p>1．<strong>命令格式</strong>：</p>
<p>useradd 选项 用户名</p>
<p>2．<strong>命令功能</strong>：</p>
<p>添加新的用户账号</p>
<p>3．<strong>命令参数：</strong></p>
<p>-d 指定用户的主目录</p>
<p>-m 如果此目录不存在，则同时使用-m选项，可以创建主目录。</p>
<p>-g 用户组 指定用户所属的用户组。</p>
<p>-G  用户组，用户组 指定用户所属的附加组。</p>
<p>-s Shell文件 指定用户的登录Shell。</p>
<p>-c comment 指定一段注释性描述</p>
<ol start="4">
<li><strong>示例</strong></li>
</ol>
<pre><code>useradd -d /usr/sam -m sam
</code></pre><p>此命令创建了一个用户sam，其中-d和-m选项用来为登录名sam产生一个主目录/usr/sam（/usr为默认的用户主目录所在的父目录）</p>
<pre><code>useradd -d /usr/haigeek -m -s /bin/sh -g users -G adm,root haigeek
</code></pre><p>此命令新建了一个用户haigeek，该用户的登录Shell是 <code>/bin/sh</code>，它属于users用户组，同时又属于adm和root用户组，其中group用户组是其主组。</p>
<h4 id="usermod">usermod</h4>
<ol>
<li><strong>命令格式</strong>：</li>
</ol>
<p>usermod 选项 用户名</p>
<ol start="2">
<li><strong>命令功能</strong>：</li>
</ol>
<p>修改用户账号</p>
<ol start="3">
<li><strong>命令参数：</strong></li>
</ol>
<p>-d 指定用户的主目录</p>
<p>-m 如果此目录不存在，则同时使用-m选项，可以创建主目录。</p>
<p>-g 用户组 指定用户所属的用户组。</p>
<p>-G  用户组，用户组 指定用户所属的附加组。</p>
<p>-s Shell文件 指定用户的登录Shell。</p>
<p>-c comment 指定一段注释性描述</p>
<ol start="4">
<li><strong>示例</strong></li>
</ol>
<pre><code>usermod -s /bin/ksh -d /user/newsam –g users sam
</code></pre><p>修改用户登录的shell和组</p>
<pre><code>usermod -l sam1 sam
</code></pre><p>修改sam的登录名为sam1</p>
<h4 id="passwd">passwd</h4>
<ol>
<li><strong>命令格式</strong>：</li>
</ol>
<p>passwd 选项 用户名</p>
<ol start="2">
<li><strong>命令功能</strong>：</li>
</ol>
<p>为用户设置密码，新建的用户加入不设置密码的话是无法登录的</p>
<ol start="3">
<li><strong>命令参数：</strong></li>
</ol>
<p>-l 锁定口令，即禁用账号。</p>
<p>-u 口令解锁。</p>
<p>-d 使账号无口令。</p>
<p>-f 强迫用户下次登录时修改口令。</p>
<ol start="4">
<li><strong>示例</strong></li>
</ol>
<pre><code>passwd
</code></pre><p>当前用户可以自行进行密码的修改</p>
<pre><code>pass sam
</code></pre><p>修改指定用户的密码</p>
<pre><code>passwd -l sam
</code></pre><p>锁定用户</p>
<pre><code>passwd -u sam
</code></pre><p>解锁用户</p>
<h4 id="userdel">userdel</h4>
<p>1．<strong>命令格式</strong>：</p>
<p>userdel 选项 用户名</p>
<p>2．<strong>命令功能</strong>：</p>
<p>删除用户账号</p>
<p>3．<strong>命令参数：</strong></p>
<p>-r 把用户的主目录一起删除</p>
<ol start="4">
<li>示例</li>
</ol>
<pre><code>userdel -r sam
</code></pre><h3 id="用户组管理">用户组管理</h3>
<p>查看查询的用户组 /etc/group，查看当前用户所在的组 切换到用户 使用groups查看</p>
<h4 id="groupadd">groupadd</h4>
<ol>
<li><strong>命令格式</strong>：</li>
</ol>
<p>groupadd 选项 组名</p>
<ol start="2">
<li><strong>命令功能</strong>：</li>
</ol>
<p>添加用户组</p>
<ol start="3">
<li><strong>命令参数：</strong></li>
</ol>
<p>-g GID 指定新用户组的组标识号（GID</p>
<ol start="4">
<li><strong>示例</strong></li>
</ol>
<pre><code>groupadd group1
</code></pre><p>此命令向系统中增加了一个新组group1，新组的组标识号是在当前已有的最大组标识号的基础上加1。</p>
<pre><code>groupadd -g 101 group2
</code></pre><p>此命令向系统中增加了一个新组group2，同时指定新组的组标识号是101。</p>
<h4 id="groupdel">groupdel</h4>
<ol>
<li><strong>命令格式</strong>：</li>
</ol>
<p>groupdel 选项 组名</p>
<ol start="2">
<li><strong>命令功能</strong>：</li>
</ol>
<p>删除用户组</p>
<ol start="3">
<li><strong>示例</strong></li>
</ol>
<pre><code>groupdel group1
</code></pre><h4 id="groupmod">groupmod</h4>
<ol>
<li><strong>命令格式</strong>：</li>
</ol>
<p>groupmod 选项 组名</p>
<ol start="2">
<li><strong>命令功能</strong>：</li>
</ol>
<p>修改用户组</p>
<ol start="3">
<li><strong>命令参数：</strong></li>
</ol>
<p>-g GID 为用户组指定新的组标识号</p>
<p>-o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。</p>
<p>-n新用户组 将用户组的名字改为新名字</p>
<ol start="4">
<li><strong>示例</strong></li>
</ol>
<pre><code>groupmod -g 102 group2
</code></pre><p>此命令将组group2的组标识号修改为102</p>
<pre><code>groupmod –g 10000 -n group3 group2
</code></pre><p>此命令将组group2的标识号改为10000，组名修改为group3。</p>
<h3 id="文件权限设置">文件权限设置</h3>
<p>　文件或目录的访问权限分为只读，只写和可执行三种。以文件为例，只读权限表示只允许读其内容，而禁止对其做任何的更改操作。可执行权限表示允许将该文件作为一个程序执行。**文件被创建时，文件所有者自动拥有对该文件的读、写和可执行权限，以便于对文件的阅读和修改。**用户也可根据需要把访问权限设置为需要的任何组合。
　　有三种不同类型的用户可对文件或目录进行访问：<strong>文件所有者，同组用户、其他用户</strong>。所有者一般是文件的创建者。所有者可以允许同组用户有权访问文件，还可以将文件的访问权限赋予系统中的其他用户。在这种情况下，系统中每一位用户都能访问该用户拥有的文件或目录。</p>
<h4 id="chmod">chmod</h4>
<ol>
<li><strong>命令格式</strong>：</li>
</ol>
<p>chmod 必要参数 选择参数 文件名</p>
<ol start="2">
<li><strong>命令功能</strong>：</li>
</ol>
<p>chown改变某个文件或者目录的所有着和所有组，该命令有两种用法。一种是包含字母和操作符表达式的文字设定法；另一种是包含数字的数字设定法。</p>
<ol start="3">
<li><strong>命令参数：</strong></li>
</ol>
<p><strong>必要参数</strong>：
-c 当发生改变时，报告处理信息
-f 错误信息不输出
-R 处理指定目录以及其子目录下的所有文件
-v 运行时显示详细处理信息</p>
<p><strong>选择参数</strong>：
&ndash;reference=&lt;目录或者文件&gt; 设置成具有指定目录或者文件具有相同的权限
&ndash;version 显示版本信息
&lt;权限范围&gt;+&lt;权限设置&gt; 使权限范围内的目录或者文件具有指定的权限
&lt;权限范围&gt;-&lt;权限设置&gt; 删除权限范围的目录或者文件的指定权限
&lt;权限范围&gt;=&lt;权限设置&gt; 设置权限范围内的目录或者文件的权限为指定的值</p>
<p><strong>权限范围</strong>：
u ：目录或者文件的当前的用户
g ：目录或者文件的当前的群组
o ：除了目录或者文件的当前用户或群组之外的用户或者群组
a ：所有的用户及群组</p>
<p><strong>权限代号</strong>：</p>
<p>r ：读权限，用数字4表示
w ：写权限，用数字2表示
x ：执行权限，用数字1表示
- ：删除权限，用数字0表示
s ：特殊权限 常见参数：</p>
<ol start="4">
<li>示例</li>
</ol>
<pre><code>chmod a+x hello.txt
</code></pre><p>增加文件所有用户组的可执行权限</p>
<pre><code>chmod ug+w,o+x hello.txt
</code></pre><p>使目录当前的用户和组具有写权限，其他的用户和组具有可执行权限</p>
<pre><code>chmod a-x hello.txt
</code></pre><p>删除文件所有用户组的可执行权限</p>
<pre><code>chmod u=x hello.txt
</code></pre><p>撤销原来所有的权限，然后使拥有者具有可执行权限</p>
<pre><code>chmod -R u+x hello
</code></pre><p>递归地给test4目录下所有文件和子目录的属主分配权限</p>
<pre><code>chmod 751 file   
</code></pre><p>给file的属主分配读、写、执行(7)的权限，给file的所在组分配读、执行(5)的权限，给其他用户分配执行(1)的权限</p>
<pre><code>chmod u=rwx,g=rx,o=x file 
</code></pre><p>上例的另一种形式</p>
<h4 id="chown">chown</h4>
<p>chown将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户ID；组可以是组名或者组ID；文件是以空格分开的要改变权限的文件列表，支持通配符。系统管理员经常使用chown命令，在将文件拷贝到另一个用户的名录下之后，让用户拥有使用该文件的权限。</p>
<ol>
<li><strong>命令格式</strong>：</li>
</ol>
<p>chown 参数 用户 :用户组 文件名</p>
<ol start="2">
<li><strong>命令功能</strong>：</li>
</ol>
<p>通过chown改变文件的拥有者和群组。在更改文件的所有者或所属群组时，可以使用用户名称和用户识别码设置。普通用户不能将自己的文件改变成其他的拥有者。其操作权限一般为管理员。</p>
<ol start="3">
<li><strong>命令参数：</strong></li>
</ol>
<p>　　　　-c 显示更改的部分的信息</p>
<p>　　　　-f 忽略错误信息</p>
<p>　　　　-R 处理指定目录以及其子目录下的所有文件</p>
<p>　　　　-v 显示详细的处理信息</p>
<p>　<strong>选择参数:</strong></p>
<p>　　　　&ndash;reference=&lt;目录或文件&gt; 把指定的目录/文件作为参考，把操作的文件/目录设置成参考文件/目录相同拥有者和群组</p>
<p>　　　　&ndash;from=&lt;当前用户：当前群组&gt; 只有当前用户和群组跟指定的用户和群组相同时才进行改变</p>
<p>　　　　&ndash;help 显示帮助信息</p>
<p>　　　　&ndash;version 显示版本信息</p>
<ol start="4">
<li><strong>示例</strong></li>
</ol>
<pre><code>chown haigeek:users hello.tar
</code></pre><p>改变拥有者和组</p>
<pre><code>chown root  hello.tar
</code></pre><p>改变拥有者</p>
<pre><code>chown :root hello.tar
</code></pre><p>改变拥有组</p>
<pre><code>chown -R -v haigeek:users /opt/test
</code></pre><p>改变指定目录以及其子目录下的所有文件的拥有者和群组</p>


    
    
        <div class="related">

</div>
    

</div>


        

    </div>

</section>



<section class="section">
  <div class="container has-text-centered">
    <p>© <a href="https://github.com/pavel-pi">Pavel Pi</a> 2020</p>
    
      <p>Powered by <a href="https://gohugo.io/">Hugo</a> &amp; <a href="https://github.com/pavel-pi/kiss-em">Kiss'Em</a>.</p>
    
  </div>
</section>

</body>
</html>

