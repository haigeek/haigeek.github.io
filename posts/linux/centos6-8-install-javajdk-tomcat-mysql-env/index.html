<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Liste - https://haigeek.me">
    <title>centos6.8安装javajdk、tomcat、MySQL环境 | haigeek blog</title>
    <meta name="description" content="I&#39;m a software engineer , Use Java as the primary programming language, Interested in Microervices, K8s, Devops ... In this blog , I share my technical problems and life records. ">
    <meta property="og:title" content="centos6.8安装javajdk、tomcat、MySQL环境" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://haigeek.me/posts/linux/centos6-8-install-javajdk-tomcat-mysql-env/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-07-15T14:12:28+08:00" />
<meta property="article:modified_time" content="2017-07-15T14:12:28+08:00" />

    <meta itemprop="name" content="centos6.8安装javajdk、tomcat、MySQL环境">
<meta itemprop="description" content=""><meta itemprop="datePublished" content="2017-07-15T14:12:28+08:00" />
<meta itemprop="dateModified" content="2017-07-15T14:12:28+08:00" />
<meta itemprop="wordCount" content="305">
<meta itemprop="keywords" content="MySQl,java,Linux,Tomcat," />
    
    <link rel="canonical" href="https://haigeek.me/posts/linux/centos6-8-install-javajdk-tomcat-mysql-env/">
    <link rel="icon" href="https://haigeek.me/assets/favicon.ico">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link href="https://www.google-analytics.com" rel="preconnect" crossorigin>
    <link rel="alternate" type="application/atom+xml" title="haigeek blog" href="https://haigeek.me/atom.xml" />
    <link rel="alternate" type="application/json" title="haigeek blog" href="https://haigeek.me/feed.json" />
    <link rel="shortcut icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII=">
    
    
    <style>*,:after,:before{box-sizing:border-box;padding:0}body{font:1rem/1.5 '-apple-system',BlinkMacSystemFont,avenir next,avenir,helvetica,helvetica neue,ubuntu,roboto,noto,segoe ui,arial,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:2rem;background:#f5f5f5;color:#000}.skip-link{position:absolute;top:-40px;left:0;background:#eee;z-index:100}.skip-link:focus{top:0}h1,h2,h3,h4,h5,strong,b{font-weight:600}header{line-height:2;padding-bottom:1.5rem}.link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.time{font-variant-numeric:tabular-nums;white-space:nowrap}blockquote{border-left:5px solid #eee;padding-left:1rem;margin:0}a,a:visited{color:inherit}a:hover,a.heading-link{text-decoration:none}pre{padding:.5rem;overflow:auto;overflow-x:scroll;overflow-wrap:normal}code,pre{font-family:San Francisco Mono,Monaco,consolas,lucida console,dejavu sans mono,bitstream vera sans mono,monospace;font-size:normal;font-size:small;background:#eee}code{margin:.1rem;border:none}ul{list-style-type:square}ul,ol{padding-left:1.2rem}.list{line-height:2;list-style-type:none;padding-left:0}.list li{padding-bottom:.1rem}.meta{color:#777}.content{max-width:70ch;margin:0 auto}header{line-height:2;display:flex;justify-content:space-between;padding-bottom:1rem}header a{text-decoration:none}header ul{list-style-type:none;padding:0}header li,header a{display:inline}h2.post{padding-top:.5rem}header ul a:first-child{padding-left:1rem}.nav{height:1px;background:#000;content:'';max-width:10%}.list li{display:flex;align-items:baseline}.list li time{flex:initial}.hr-list{margin-top:0;margin-bottom:0;margin-right:.5rem;margin-left:.5rem;height:1px;border:0;border-bottom:1px dotted #ccc;flex:1 0 1rem}.m,hr{border:0;margin:3rem 0}img{max-width:100%;height:auto}.post-date{margin:5% 0}.index-date{color:#9a9a9a}.animate-blink{animation:opacity 1s infinite;opacity:1}@keyframes opacity{0%{opacity:1}50%{opacity:.5}100%{opacity:0}}.tags{display:flex;justify-content:space-between}.tags ul{padding:0;margin:0}.tags li{display:inline}.avatar{height:120px;width:120px;position:relative;margin:-10px 0 0 15px;float:right;border-radius:50%} </style>
  
    
  
  
  <script type="application/ld+json">
  {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "articleSection": "posts",
      "name": "centos6.8安装javajdk、tomcat、MySQL环境",
      "headline": "centos6.8安装javajdk、tomcat、MySQL环境",
      "alternativeHeadline": "",
      "description": "",
      "inLanguage": "zh-cn",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https:\/\/haigeek.me\/posts\/linux\/centos6-8-install-javajdk-tomcat-mysql-env\/"
      },
      "author" : {
          "@type": "Person",
          "name": ""
      },
      "creator" : {
          "@type": "Person",
          "name": ""
      },
      "accountablePerson" : {
          "@type": "Person",
          "name": ""
      },
      "copyrightHolder" : "haigeek blog",
      "copyrightYear" : "2017",
      "dateCreated": "2017-07-15T14:12:28.00Z",
      "datePublished": "2017-07-15T14:12:28.00Z",
      "dateModified": "2017-07-15T14:12:28.00Z",
      "publisher":{
          "@type":"Organization",
          "name": "haigeek blog",
          "url": "https://haigeek.me",
          "logo": {
              "@type": "ImageObject",
              "url": "https:\/\/haigeek.me\/assets\/favicon.ico",
              "width":"32",
              "height":"32"
          }
      },
      "image": "https://haigeek.me/assets/favicon.ico",
      "url" : "https:\/\/haigeek.me\/posts\/linux\/centos6-8-install-javajdk-tomcat-mysql-env\/",
      "wordCount" : "305",
      "genre" : [ "MySQl" , "java" , "Linux" , "Tomcat" ],
      "keywords" : [ "MySQl" , "java" , "Linux" , "Tomcat" ]
  }
  </script>
  
  
  </head>

<body>
  <a class="skip-link" href="#main">Skip to main</a>
  <main id="main">
  <div class="content">
    <header>
<p style="padding: 0;margin: 0;">
  <a href="/">
    <b>haigeek blog</b>
    <span class="text-stone-500 animate-blink">▮</span>
  </a>
</p>
<ul style="padding: 0;margin: 0;">
  
  
  <li class="">
    <a href="/posts/"><span>Post</span></a>
    
  <li class="">
    <a href="/about/"><span>About</span></a>
    
  <li class="">
    <a href="https://wiki.haigeek.me"><span>Wiki</span></a>
    
  </li>
</ul>
</header>
<hr class="hr-list" style="padding: 0;margin: 0;">
    <section>
      <h2 class="post">centos6.8安装javajdk、tomcat、MySQL环境</h2>
      <h2 id="jdk安装">jdk安装</h2>
<p>建立一个文件夹存放软件安装包</p>
<pre tabindex="0"><code>cd /opt
mkdir setups
</code></pre><p>建立java安装文件夹</p>
<pre tabindex="0"><code>cd /usr
mkdir java
</code></pre><p>解压文件并移动到java文件夹</p>
<pre tabindex="0"><code>tar -zxvf jdk-8u131-linux-x64.tar.gz
mv jdk1.8.0_131 /usr/java
</code></pre><p>配置环境变量</p>
<pre tabindex="0"><code>vim /etc/profile
在末尾添加
JAVA_HOME=/usr/java/jdk1.8.0_131
  JRE_HOME=$JAVA_HOME/jre
  PATH=$PATH:$JAVA_HOME/bin
  CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
  export JAVA_HOME
  export JRE_HOME
  export PATH
  export CLASSPATH
</code></pre><p>刷新配置</p>
<pre tabindex="0"><code>source /etc/profile
</code></pre><p>检查配置</p>
<pre tabindex="0"><code>java -version
</code></pre><h2 id="tomcat安装">Tomcat安装</h2>
<p>下载解压安装</p>
<pre tabindex="0"><code>wget http://www-us.apache.org/dist/tomcat/tomcat-8/v8.5.16/bin/apache-tomcat-8.5.16.tar.gz
tar -zxvf apache-tomcat-8.5.16.tar.gz
mv apache-tomcat-8.5.16 /usr/tomcat
</code></pre><p>运行</p>
<pre tabindex="0"><code>sh /usr/tomcat/apache-tomcat-8.5.16/bin/startup.sh
</code></pre><p>在浏览器输入http:ip地址:8080 测试；可以访问则表示成功，如果不可以访问需要配置防火墙规则</p>
<p>进行如下设置并重启防火墙，这里需要注意，由于centos7采用了firewall防火墙，配置方法有所不同，可以参考相关资料</p>
<pre tabindex="0"><code># iptables -I INPUT -p tcp --dport 8080 -j ACCEPT
# service iptables restart
</code></pre><p>创建脚本文件方便tomcat启动</p>
<pre tabindex="0"><code>vim /etc/rc.d/init.d/tomcat
</code></pre><p>脚本文件如下，将Jdk和tomcat安装路径更换即可</p>
<pre tabindex="0"><code>#!/bin/bash  
# description: Tomcat7 Start Stop Restart  
# processname: tomcat7  
# chkconfig: 234 20 80  
JAVA_HOME=/usr/java/jdk1.8.0_133
export JAVA_HOME  
PATH=$JAVA_HOME/bin:$PATH  
export PATH  
CATALINA_HOME=/usr/tomcat8
case $1 in  
start)  
sh $CATALINA_HOME/bin/startup.sh  
;;   
stop)     
sh $CATALINA_HOME/bin/shutdown.sh  
;;   
restart)  
sh $CATALINA_HOME/bin/shutdown.sh  
sh $CATALINA_HOME/bin/startup.sh  
;;   
esac      
exit 0
</code></pre><p>设置文件属性和运行服务级别</p>
<pre tabindex="0"><code># chmod a+x tomcat
# chkconfig --add tomcat
</code></pre><p>测试</p>
<pre tabindex="0"><code>service tomcat start
service tomcat stop
service tomcat restart
service tomcat status
</code></pre><h2 id="安装mysql数据库">安装mysql数据库</h2>
<p>检查是否已经安装</p>
<pre tabindex="0"><code>rpm -q mysql-libs
yum remove mysql-libs /** if exists **/
</code></pre><p>下载安装mysql</p>
<pre tabindex="0"><code>wget https://dev.mysql.com/get/Downloads/MySQL-5.5/MySQL-server-5.5.56-1.el6.x86_64.rpm
wget https://dev.mysql.com/get/Downloads/MySQL-5.5/MySQL-client-5.5.56-1.el6.x86_64.rpm
wget https://dev.mysql.com/get/Downloads/MySQL-5.5/MySQL-devel-5.5.56-1.el6.x86_64.rpm
rpm -ivh MySQL-server-5.5.56-1.el6.x86_64.rpm
rpm -ivh MySQL-client-5.5.56-1.el6.x86_64.rpm
rpm -ivh MySQL-devel-5.5.56-1.el6.x86_64.rpm
</code></pre><p>安装时候需要注意centos系统为6是需要选择上面的版本</p>
<p>开启数据库</p>
<pre tabindex="0"><code>service mysql start
</code></pre><p>设置数据库root账户密码</p>
<pre tabindex="0"><code>mysql&gt; use mysql;
mysql&gt; update user set password=PASSWORD(&#34;GIVE-NEW-ROOT-PASSWORD&#34;) where User=&#39;root&#39;;
mysql&gt; flush privileges;
mysql&gt; quit
</code></pre><p>数据库的配置</p>
<p>在mysql5.5中，默认是没有类似 /etc/my.cof的配置文件的，只有在<code>/usr/share/mysql/</code>下可以找到几个cnf后缀的配置文件，是根据内存大小来进行配置的，而如果想要修改编码，可以安装以下步骤</p>
<ol>
<li>
<p>通过输入命令<code>mysql --help | grep 'Default options' -A 1</code>可以查看mysql5.5读取数据库配置文件的顺序,输出如下</p>
<pre tabindex="0"><code>default options are read from the following files in the given order:
/etc/my.cnf /etc/mysql/my.cnf /usr/etc/my.cnf ~/.my.cnf
</code></pre></li>
<li>
<p>创建配置文件 <code>vi /etc/my.cnf</code></p>
</li>
<li>
<p>进行编码设置</p>
<pre tabindex="0"><code>[client]
port = 3306
socket = /var/lib/mysql/mysql.sock
default-character-set=utf8
[mysqld]
port = 3306
socket = /var/lib/mysql/mysql.sock
character-set-server=utf8
[mysql]
no-auto-rehash
default-character-set=utf8
</code></pre></li>
<li>
<p>重启mysql<code>service mysql restart</code></p>
</li>
<li>
<p>查看是否生效<code>mysql&gt; show variables like 'char%';</code></p>
<pre tabindex="0"><code>mysql&gt; show variables like &#39;char%&#39;;
+--------------------------+----------------------------+
| Variable_name            | Value                      |
+--------------------------+----------------------------+
| character_set_client     | utf8                       |
| character_set_connection | utf8                       |
| character_set_database   | utf8                       |
| character_set_filesystem | binary                     |
| character_set_results    | utf8                       |
| character_set_server     | utf8                       |
| character_set_system     | utf8                       |
| character_sets_dir       | /usr/share/mysql/charsets/ |
+--------------------------+----------------------------+
8 rows in set (0.00 sec)
</code></pre></li>
</ol>
<p>至此，mysql的配置安装也完成。</p>
      
      <div class="post-date">
        <span class="g time">July 15, 2017 </span> &#8729;
         
         <a href="https://haigeek.me/tags/mysql/">mysql</a> <a href="https://haigeek.me/tags/java/">java</a> <a href="https://haigeek.me/tags/linux/">linux</a> <a href="https://haigeek.me/tags/tomcat/">tomcat</a>
      </div>
      
    </section>
    
    <div id="comments">
      <script src="https://utteranc.es/client.js"
    repo=ZgotmplZ
    issue-term="pathname"
    theme=ZgotmplZ
    crossorigin="anonymous"
    async>
</script>

    </div>
    
  </div>
</main>
</body>
</html>
